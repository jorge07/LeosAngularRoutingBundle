/**
 * The autoconfiguration file created by LeosAngularRoutingBundle
 *
 * @author: Jorge Arco <jorge.arcoma@gmail.com>
 */
(function(angular){

    angular.module('{{ name }}')
        .config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function($stateProvider, $urlRouterProvider, $locationProvider) {

            $locationProvider.html5Mode({enabled: true,requireBase: false});
            $urlRouterProvider.otherwise("/");

            $stateProvider
            {# ROUTES LOOP #}
            {% for k, route in routes %}


                .state('{{ k }}', {
                url: '/{{ route.url }}'

                {#View Loop#}
                {% if route.views is defined %}

                    ,views: {

                    {% set urlParams = route.urlParams is defined ? route.urlParams : {} %}


                    '': { templateUrl: '{% autoescape 'html' %}{{ path(route.template, urlParams) }}{% endautoescape %}' }


                    {% for kv, view in route.views %}

                        ,'{{ view.column }}@{{ k }}': {

                        {% if view.templateUrl is defined %}

                            {% set urlParams = view.urlParams is defined ? view.urlParams : {} %}

                            templateUrl: {% autoescape 'html' %}'{{ path(view.templateUrl, urlParams) }}'{% endautoescape %}

                        {% elseif view.template is defined %}

                            template: {% autoescape 'html' %}'{{ view.template }}'{% endautoescape %}

                        {% endif %}
                        }

                    {% endfor %}

                    }

                {% else %}

                    ,templateUrl: '{% autoescape 'html' %}{{ path(route.template) }}{% endautoescape %}'

                {% endif %}

                })

            {% endfor %}
            ;
        }]);

})(angular);